import subprocess
import os
import time
import socket   
import requests

def get_latest_version():
    response = requests.get("https://api.github.com/repos/Tsuruta-Kurb/better-prompt/releases/latest")
    latest_version = response.json()["tag_name"]
    return latest_version

# Rest of your code ...

def main():
    current_version = "1.1"  # Your current version
    latest_version = get_latest_version()

    if check_for_new_version(current_version, latest_version):
        print("There is a new version available!")
        print(f"Download it from: https://github.com/Tsuruta-Kurb/better-prompt/releases/tag/{latest_version}")

    while True:
        user_input = input("Better Prompt C:> ")

        if user_input.lower() == "exit":
            break

        elif user_input.lower() == "myip":
            print(get_computer_ip())
            print("")

        elif user_input.lower() == "wifipass":
            wifi_info = get_connected_wifi_password()
            print(wifi_info)
            print("")

        elif user_input.lower() == "internetspeed":
            download_speed = check_internet_speed()
            print(f"Download speed: {download_speed:.2f} MBps")
            print("")

        else:
            try:
                result = subprocess.run(user_input, shell=True, text=True, capture_output=True)
                print(result.stdout)
                if result.stderr:
                    print(result.stderr)
            except subprocess.CalledProcessError as e:
                print("Error:", e)

if __name__ == "__main__":
    main()
